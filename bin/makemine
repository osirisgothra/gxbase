#!/usr/bin/perl

use warnings;
use strict;
use diagnostics;
use Env;
use integer;

Env::import();

my $curusr = int(`id -u`);
my $curgrp = int(`id -g`);

print "take ownership of all files and directories in this directory $PWD, to user $USER ($curusr:$curgrp)?";

my $f = getc;
system("chown $curusr:$curgrp $PWD -Rv");
my $result = $?;
my $code = $result >> 8;

if ($code == 0)
{
	print "succeeded ($result)\n";
}
elsif ($code == -1) { die "command failed\n"; }  
else
{
	die "failed: with code $result: $code\n";	
}

